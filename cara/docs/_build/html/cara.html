<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>cara package &mdash; CARA 4.1.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="cara.apps package" href="cara.apps.html" />
    <link rel="prev" title="Welcome to CARA’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CARA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">cara package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cara.apps.html">cara.apps package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cara.data.html">cara.data package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cara.monte_carlo.html">cara.monte_carlo package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cara.tests.html">cara.tests package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cara.dataclass_utils">cara.dataclass_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cara.models">cara.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cara.state">cara.state module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cara.utils">cara.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-cara">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="full_diameter_dependence.html">Full diameter-dependent model</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CARA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>cara package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/cara.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cara-package">
<h1>cara package<a class="headerlink" href="#cara-package" title="Permalink to this headline"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cara.apps.html">cara.apps package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cara.apps.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cara.apps.calculator.html">cara.apps.calculator package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#module-cara.apps.calculator.markdown_tools">cara.apps.calculator.markdown_tools module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#module-cara.apps.calculator.model_generator">cara.apps.calculator.model_generator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#module-cara.apps.calculator.report_generator">cara.apps.calculator.report_generator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#module-cara.apps.calculator.user">cara.apps.calculator.user module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.apps.calculator.html#module-cara.apps.calculator">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cara.apps.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.apps.html#module-cara.apps.expert">cara.apps.expert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.apps.html#module-cara.apps">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cara.data.html">cara.data package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cara.data.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.data.html#module-cara.data.weather">cara.data.weather module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.data.html#module-cara.data">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cara.monte_carlo.html">cara.monte_carlo package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cara.monte_carlo.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.monte_carlo.html#module-cara.monte_carlo.data">cara.monte_carlo.data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.monte_carlo.html#module-cara.monte_carlo.models">cara.monte_carlo.models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.monte_carlo.html#module-cara.monte_carlo.sampleable">cara.monte_carlo.sampleable module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.monte_carlo.html#module-cara.monte_carlo">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cara.tests.html">cara.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cara.tests.apps.html">cara.tests.apps package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.apps.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.apps.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.apps.html#module-cara.tests.apps.test_expert_app">cara.tests.apps.test_expert_app module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.apps.html#module-cara.tests.apps">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cara.tests.data.html">cara.tests.data package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.data.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.data.html#module-cara.tests.data.test_weather">cara.tests.data.test_weather module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.data.html#module-cara.tests.data">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cara.tests.models.html">cara.tests.models package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models.test_concentration_model">cara.tests.models.test_concentration_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models.test_exposure_model">cara.tests.models.test_exposure_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models.test_mask">cara.tests.models.test_mask module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models.test_piecewiseconstant">cara.tests.models.test_piecewiseconstant module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models.test_short_range_model">cara.tests.models.test_short_range_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cara.tests.models.html#module-cara.tests.models">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.conftest">cara.tests.conftest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_cara">cara.tests.test_cara module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_dataclass_utils">cara.tests.test_dataclass_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_expiration">cara.tests.test_expiration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_full_algorithm">cara.tests.test_full_algorithm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_infected_population">cara.tests.test_infected_population module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_known_quantities">cara.tests.test_known_quantities module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_model">cara.tests.test_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_monte_carlo">cara.tests.test_monte_carlo module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_monte_carlo_full_models">cara.tests.test_monte_carlo_full_models module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_predefined_distributions">cara.tests.test_predefined_distributions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_sampleable_distribution">cara.tests.test_sampleable_distribution module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_state">cara.tests.test_state module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests.test_ventilation">cara.tests.test_ventilation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cara.tests.html#module-cara.tests">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline"></a></h2>
</section>
<section id="module-cara.dataclass_utils">
<span id="cara-dataclass-utils-module"></span><h2>cara.dataclass_utils module<a class="headerlink" href="#module-cara.dataclass_utils" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cara.dataclass_utils.nested_replace">
<span class="sig-name descname"><span class="pre">nested_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.dataclass_utils.nested_replace" title="Permalink to this definition"></a></dt>
<dd><p>Replace an attribute on a dataclass, much like dataclasses.replace,
except it supports nested replacement definitions. For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_obj</span> <span class="o">=</span> <span class="n">nested_replace</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;attr1.sub_attr2.sub_sub_attr3&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_obj</span><span class="o">.</span><span class="n">attr1</span><span class="o">.</span><span class="n">sub_attr2</span><span class="o">.</span><span class="n">sub_sub_attr3</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cara.dataclass_utils.replace">
<span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">changes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.dataclass_utils.replace" title="Permalink to this definition"></a></dt>
<dd><p>A version of dataclasses.replace that handles ClassVar declarations.</p>
<p>See <a class="reference external" href="https://bugs.python.org/issue33796">https://bugs.python.org/issue33796</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cara.dataclass_utils.walk_dataclass">
<span class="sig-name descname"><span class="pre">walk_dataclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.dataclass_utils.walk_dataclass" title="Permalink to this definition"></a></dt>
<dd><p>Recursively walk a dataclass instance, generating (name, obj) pairs for
attributes and decending into nested dataclasses.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">walk_dataclass</span><span class="p">(</span><span class="n">obj</span><span class="p">),</span> <span class="s1">&#39;my_obj&#39;</span><span class="p">)</span>
<span class="go">[(&#39;my_obj.attr_a&#39;, &lt;dataclass instance&gt;), (&#39;my_obj.attr_a.sub_attr&#39;, &lt;dataclass instance&gt;)]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-cara.models">
<span id="cara-models-module"></span><h2>cara.models module<a class="headerlink" href="#module-cara.models" title="Permalink to this headline"></a></h2>
<p>This module implements the core CARA models.</p>
<p>The CARA model is a flexible, object-oriented numerical model. It is designed
to allow the user to swap-out and extend its various components. One of the
major abstractions of the model is the distinction between virus concentration
(<a class="reference internal" href="#cara.models.ConcentrationModel" title="cara.models.ConcentrationModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConcentrationModel</span></code></a>) and virus exposure (<a class="reference internal" href="#cara.models.ExposureModel" title="cara.models.ExposureModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExposureModel</span></code></a>).</p>
<p>The concentration component is a recursive (on model time) model and therefore in order
to optimise its execution certain layers of caching are implemented. This caching
mandates that the models in this module, once instantiated, are immutable and
deterministic (i.e. running the same model twice will result in the same answer).</p>
<p>In order to apply stochastic / non-deterministic analyses therefore you must
introduce the randomness before constructing the models themselves; the
<a class="reference internal" href="cara.monte_carlo.html#module-cara.monte_carlo" title="cara.monte_carlo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cara.monte_carlo</span></code></a> module is a good example of doing this - that module uses
the models defined here to allow you to construct a ConcentrationModel containing
parameters which are expressed as probability distributions. Under the hood the
<code class="docutils literal notranslate"><span class="pre">cara.monte_carlo.ConcentrationModel</span></code> implementation simply samples all of those
probability distributions to produce many instances of the deterministic model.</p>
<p>The models in this module have been designed for flexibility above performance,
particularly in the single-model case. By using the natural expressiveness of
Python we benefit from a powerful, readable and extendable implementation. A
useful feature of the implementation is that we are able to benefit from numpy
vectorisation in the case of wanting to run multiple-parameterisations of the model
at the same time. In order to benefit from this feature you must construct the models
with an array of parameter values. The values must be either scalar, length 1 arrays,
or length N arrays, where N is the number of parameterisations to run; N must be
the same for all parameters of a single model.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Activity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inhalation_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exhalation_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Activity" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Activity.exhalation_rate">
<span class="sig-name descname"><span class="pre">exhalation_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Activity.exhalation_rate" title="Permalink to this definition"></a></dt>
<dd><p>Exhalation rate in m^3/h</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Activity.inhalation_rate">
<span class="sig-name descname"><span class="pre">inhalation_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Activity.inhalation_rate" title="Permalink to this definition"></a></dt>
<dd><p>Inhalation rate in m^3/h</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Activity.types">
<span class="sig-name descname"><span class="pre">types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Heavy</span> <span class="pre">exercise':</span> <span class="pre">Activity(inhalation_rate=3.3,</span> <span class="pre">exhalation_rate=3.3),</span> <span class="pre">'Light</span> <span class="pre">activity':</span> <span class="pre">Activity(inhalation_rate=1.25,</span> <span class="pre">exhalation_rate=1.25),</span> <span class="pre">'Moderate</span> <span class="pre">activity':</span> <span class="pre">Activity(inhalation_rate=1.78,</span> <span class="pre">exhalation_rate=1.78),</span> <span class="pre">'Seated':</span> <span class="pre">Activity(inhalation_rate=0.51,</span> <span class="pre">exhalation_rate=0.51),</span> <span class="pre">'Standing':</span> <span class="pre">Activity(inhalation_rate=0.57,</span> <span class="pre">exhalation_rate=0.57)}</span></em><a class="headerlink" href="#cara.models.Activity.types" title="Permalink to this definition"></a></dt>
<dd><p>Pre-populated examples of activities.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.AirChange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AirChange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">air_exch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.AirChange" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Ventilation" title="cara.models.Ventilation"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Ventilation</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.AirChange.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.AirChange.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the ventilation is operating.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.AirChange.air_exch">
<span class="sig-name descname"><span class="pre">air_exch</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.AirChange.air_exch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.AirChange.air_exchange">
<span class="sig-name descname"><span class="pre">air_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.AirChange.air_exchange" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rate at which air is being exchanged in the given room
at a given time (in hours).</p>
<p>Note that whilst the time is known inside this function, it may not
be used to vary the result unless the specific time used is declared
as part of a state change in the interval (e.g. when air_exchange == 0).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConcentrationModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ventilation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.models._VentilationBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infected</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.InfectedPopulation" title="cara.models.InfectedPopulation"><span class="pre">cara.models.InfectedPopulation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaporation_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.ConcentrationModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.concentration">
<span class="sig-name descname"><span class="pre">concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.concentration" title="Permalink to this definition"></a></dt>
<dd><p>Virus long-range exposure concentration, as a function of time.</p>
<p>Note that time is not vectorised. You can only pass a single float
to this method.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.evaporation_factor">
<span class="sig-name descname"><span class="pre">evaporation_factor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.3</span></em><a class="headerlink" href="#cara.models.ConcentrationModel.evaporation_factor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.infected">
<span class="sig-name descname"><span class="pre">infected</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.InfectedPopulation" title="cara.models.InfectedPopulation"><span class="pre">cara.models.InfectedPopulation</span></a></em><a class="headerlink" href="#cara.models.ConcentrationModel.infected" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.infectious_virus_removal_rate">
<span class="sig-name descname"><span class="pre">infectious_virus_removal_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.infectious_virus_removal_rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.integrated_concentration">
<span class="sig-name descname"><span class="pre">integrated_concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.integrated_concentration" title="Permalink to this definition"></a></dt>
<dd><p>Get the integrated concentration of viruses in the air between the times start and stop.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.last_state_change">
<span class="sig-name descname"><span class="pre">last_state_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.last_state_change" title="Permalink to this definition"></a></dt>
<dd><p>Find the most recent/previous state change.</p>
<p>Find the nearest time less than the given one. If there is a state
change exactly at <code class="docutils literal notranslate"><span class="pre">time</span></code> the previous state change is returned
(except at <code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">==</span> <span class="pre">0</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.normed_integrated_concentration">
<span class="sig-name descname"><span class="pre">normed_integrated_concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.normed_integrated_concentration" title="Permalink to this definition"></a></dt>
<dd><p>Get the integrated long-range concentration of viruses in the air  between the times start and stop,
normalized by the emission rate.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.room">
<span class="sig-name descname"><span class="pre">room</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></em><a class="headerlink" href="#cara.models.ConcentrationModel.room" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.state_change_times">
<span class="sig-name descname"><span class="pre">state_change_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ConcentrationModel.state_change_times" title="Permalink to this definition"></a></dt>
<dd><p>All time dependent entities on this model must provide information about
the times at which their state changes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.ventilation">
<span class="sig-name descname"><span class="pre">ventilation</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cara.models._VentilationBase</span></em><a class="headerlink" href="#cara.models.ConcentrationModel.ventilation" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cara.models.ConcentrationModel.virus">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">virus</span></span><a class="headerlink" href="#cara.models.ConcentrationModel.virus" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.EmittingPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EmittingPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_immunity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">virus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Virus" title="cara.models.Virus"><span class="pre">cara.models.Virus</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">known_individual_emission_rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.EmittingPopulation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._PopulationWithVirus</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.EmittingPopulation.aerosols">
<span class="sig-name descname"><span class="pre">aerosols</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.EmittingPopulation.aerosols" title="Permalink to this definition"></a></dt>
<dd><p>total volume of aerosols expired per volume of air (mL/cm^3).
Here arbitrarily set to 1 as the full emission rate is known.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.EmittingPopulation.emission_rate_per_aerosol_when_present">
<span class="sig-name descname"><span class="pre">emission_rate_per_aerosol_when_present</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.EmittingPopulation.emission_rate_per_aerosol_when_present" title="Permalink to this definition"></a></dt>
<dd><p>The emission rate of virions per fraction of aerosol volume in
the expired air, if the infected population is present, in cm^3/(mL.h).
It should not be a function of time.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.EmittingPopulation.known_individual_emission_rate">
<span class="sig-name descname"><span class="pre">known_individual_emission_rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.EmittingPopulation.known_individual_emission_rate" title="Permalink to this definition"></a></dt>
<dd><p>The emission rate of a single individual, in virions / h.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Expiration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Expiration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Expiration" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._ExpirationBase</span></code></p>
<p>Model for the expiration. For a given diameter of aerosol, provides
the aerosol volume, weighted by the mask outward efficiency when
applicable.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Expiration.aerosols">
<span class="sig-name descname"><span class="pre">aerosols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Expiration.aerosols" title="Permalink to this definition"></a></dt>
<dd><p>Result is in mL.cm^-3</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Expiration.cn">
<span class="sig-name descname"><span class="pre">cn</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#cara.models.Expiration.cn" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Expiration.diameter">
<span class="sig-name descname"><span class="pre">diameter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Expiration.diameter" title="Permalink to this definition"></a></dt>
<dd><p>diameter of the aerosol in microns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Expiration.jet_origin_concentration">
<span class="sig-name descname"><span class="pre">jet_origin_concentration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Expiration.jet_origin_concentration" title="Permalink to this definition"></a></dt>
<dd><p>concentration of viruses at the jet origin (mL/m3).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cara.models.Expiration.particle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">particle</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Particle" title="cara.models.Particle"><span class="pre">cara.models.Particle</span></a></em><a class="headerlink" href="#cara.models.Expiration.particle" title="Permalink to this definition"></a></dt>
<dd><p>the Particle object representing the aerosol</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.ExposureModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExposureModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concentration_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.ConcentrationModel" title="cara.models.ConcentrationModel"><span class="pre">cara.models.ConcentrationModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">short_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cara.models.ShortRangeModel" title="cara.models.ShortRangeModel"><span class="pre">cara.models.ShortRangeModel</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exposed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Population" title="cara.models.Population"><span class="pre">cara.models.Population</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.ExposureModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents the exposure to a concentration of virions in the air.
NOTE: the infection probability formula assumes that if the diameter
is an array, then none of the ventilation parameters, room volume or virus
decay constant, are arrays as well.
TODO: implement a check this is the case, in __post_init__</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.concentration">
<span class="sig-name descname"><span class="pre">concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.concentration" title="Permalink to this definition"></a></dt>
<dd><p>Virus exposure concentration, as a function of time.</p>
<p>It considers the long-range concentration with the
contribution of the short-range concentration.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ExposureModel.concentration_model">
<span class="sig-name descname"><span class="pre">concentration_model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.ConcentrationModel" title="cara.models.ConcentrationModel"><span class="pre">cara.models.ConcentrationModel</span></a></em><a class="headerlink" href="#cara.models.ExposureModel.concentration_model" title="Permalink to this definition"></a></dt>
<dd><p>The virus concentration model which this exposure model should consider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.deposited_exposure">
<span class="sig-name descname"><span class="pre">deposited_exposure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.deposited_exposure" title="Permalink to this definition"></a></dt>
<dd><p>The number of virus per m^3 deposited on the respiratory tract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.deposited_exposure_between_bounds">
<span class="sig-name descname"><span class="pre">deposited_exposure_between_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.deposited_exposure_between_bounds" title="Permalink to this definition"></a></dt>
<dd><p>The number of virus per m^3 deposited on the respiratory tract
between any two times.</p>
<p>Considers a contribution between the short-range and long-range exposures:
It calculates the deposited exposure given a short-range interaction (if any).
Then, the deposited exposure given the long-range interactions is added to the
initial deposited exposure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.expected_new_cases">
<span class="sig-name descname"><span class="pre">expected_new_cases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.expected_new_cases" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ExposureModel.exposed">
<span class="sig-name descname"><span class="pre">exposed</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Population" title="cara.models.Population"><span class="pre">cara.models.Population</span></a></em><a class="headerlink" href="#cara.models.ExposureModel.exposed" title="Permalink to this definition"></a></dt>
<dd><p>The population of non-infected people to be used in the model.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.infection_probability">
<span class="sig-name descname"><span class="pre">infection_probability</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.infection_probability" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_deposited_exposure">
<span class="sig-name descname"><span class="pre">long_range_deposited_exposure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_deposited_exposure" title="Permalink to this definition"></a></dt>
<dd><p>The number of virus per m^3 deposited on the respiratory tract.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_deposited_exposure_between_bounds">
<span class="sig-name descname"><span class="pre">long_range_deposited_exposure_between_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_deposited_exposure_between_bounds" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_expected_new_cases">
<span class="sig-name descname"><span class="pre">long_range_expected_new_cases</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_expected_new_cases" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_fraction_deposited">
<span class="sig-name descname"><span class="pre">long_range_fraction_deposited</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_fraction_deposited" title="Permalink to this definition"></a></dt>
<dd><p>The fraction of particles actually deposited in the respiratory
tract (over the total number of particles). It depends on the
particle diameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_infection_probability">
<span class="sig-name descname"><span class="pre">long_range_infection_probability</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_infection_probability" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.long_range_reproduction_number">
<span class="sig-name descname"><span class="pre">long_range_reproduction_number</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.long_range_reproduction_number" title="Permalink to this definition"></a></dt>
<dd><p>The reproduction number can be thought of as the expected number of
cases directly generated by one infected case in a population.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ExposureModel.repeats">
<span class="sig-name descname"><span class="pre">repeats</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#cara.models.ExposureModel.repeats" title="Permalink to this definition"></a></dt>
<dd><p>The number of times the exposure event is repeated (default 1).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ExposureModel.reproduction_number">
<span class="sig-name descname"><span class="pre">reproduction_number</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ExposureModel.reproduction_number" title="Permalink to this definition"></a></dt>
<dd><p>The reproduction number can be thought of as the expected number of
cases directly generated by one infected case in a population.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ExposureModel.short_range">
<span class="sig-name descname"><span class="pre">short_range</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#cara.models.ShortRangeModel" title="cara.models.ShortRangeModel"><span class="pre">cara.models.ShortRangeModel</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.ExposureModel.short_range" title="Permalink to this definition"></a></dt>
<dd><p>The list of short-range models which this exposure model should consider.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.HEPAFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HEPAFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_air_mech</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.HEPAFilter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Ventilation" title="cara.models.Ventilation"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Ventilation</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.HEPAFilter.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.HEPAFilter.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the HEPA filter is operating.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.HEPAFilter.air_exchange">
<span class="sig-name descname"><span class="pre">air_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.HEPAFilter.air_exchange" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rate at which air is being exchanged in the given room
at a given time (in hours).</p>
<p>Note that whilst the time is known inside this function, it may not
be used to vary the result unless the specific time used is declared
as part of a state change in the interval (e.g. when air_exchange == 0).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.HEPAFilter.q_air_mech">
<span class="sig-name descname"><span class="pre">q_air_mech</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.HEPAFilter.q_air_mech" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.HVACMechanical">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HVACMechanical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_air_mech</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.HVACMechanical" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Ventilation" title="cara.models.Ventilation"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Ventilation</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.HVACMechanical.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.HVACMechanical.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the mechanical ventilation (HVAC) is operating.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.HVACMechanical.air_exchange">
<span class="sig-name descname"><span class="pre">air_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.HVACMechanical.air_exchange" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rate at which air is being exchanged in the given room
at a given time (in hours).</p>
<p>Note that whilst the time is known inside this function, it may not
be used to vary the result unless the specific time used is declared
as part of a state change in the interval (e.g. when air_exchange == 0).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.HVACMechanical.q_air_mech">
<span class="sig-name descname"><span class="pre">q_air_mech</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.HVACMechanical.q_air_mech" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.HingedWindow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HingedWindow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">outside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opening_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_deltaT</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.HingedWindow" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.WindowOpening" title="cara.models.WindowOpening"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.WindowOpening</span></code></a></p>
<p>Top-hung or bottom-hung hinged window (with the hinge parallel to
horizontal plane).</p>
<dl class="py property">
<dt class="sig sig-object py" id="cara.models.HingedWindow.discharge_coefficient">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">discharge_coefficient</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.HingedWindow.discharge_coefficient" title="Permalink to this definition"></a></dt>
<dd><p>Simple model to compute discharge coefficient for top or bottom
hung hinged windows, in the absence of empirical test results
from manufacturers.
From an excel spreadsheet calculator (Richard Daniels, Crawford
Wright, Benjamin Jones - 2018) from the UK government -
see Section 8.3 of BB101 and Section 11.3 of
ESFA Output Specification Annex 2F on Ventilation opening areas.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.HingedWindow.window_width">
<span class="sig-name descname"><span class="pre">window_width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#cara.models.HingedWindow.window_width" title="Permalink to this definition"></a></dt>
<dd><p>Window width (m).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">InfectedPopulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_immunity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">virus</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Virus" title="cara.models.Virus"><span class="pre">cara.models.Virus</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expiration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.models._ExpirationBase</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.InfectedPopulation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._PopulationWithVirus</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation.aerosols">
<span class="sig-name descname"><span class="pre">aerosols</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.InfectedPopulation.aerosols" title="Permalink to this definition"></a></dt>
<dd><p>total volume of aerosols expired per volume of air (mL/cm^3).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation.emission_rate_per_aerosol_when_present">
<span class="sig-name descname"><span class="pre">emission_rate_per_aerosol_when_present</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.InfectedPopulation.emission_rate_per_aerosol_when_present" title="Permalink to this definition"></a></dt>
<dd><p>The emission rate of virions per fraction of aerosol volume in
the expired air, if the infected population is present, in cm^3/(mL.h).
It should not be a function of time.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation.expiration">
<span class="sig-name descname"><span class="pre">expiration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cara.models._ExpirationBase</span></em><a class="headerlink" href="#cara.models.InfectedPopulation.expiration" title="Permalink to this definition"></a></dt>
<dd><p>The type of expiration that is being emitted whilst doing the activity.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation.fraction_of_infectious_virus">
<span class="sig-name descname"><span class="pre">fraction_of_infectious_virus</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.InfectedPopulation.fraction_of_infectious_virus" title="Permalink to this definition"></a></dt>
<dd><p>The fraction of infectious virus.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cara.models.InfectedPopulation.particle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">particle</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Particle" title="cara.models.Particle"><span class="pre">cara.models.Particle</span></a></em><a class="headerlink" href="#cara.models.InfectedPopulation.particle" title="Permalink to this definition"></a></dt>
<dd><p>the Particle object representing the aerosol - here the default one</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Interval">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Interval</span></span><a class="headerlink" href="#cara.models.Interval" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a collection of times in which a “thing” happens.</p>
<p>The “thing” may be when an action is taken, such as opening a window, or
entering a room.</p>
<p>Note that all intervals are open at the start, and closed at the end. So a
simple start, stop interval follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="o">&lt;</span> <span class="n">t</span> <span class="o">&lt;=</span> <span class="n">end</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Interval.boundaries">
<span class="sig-name descname"><span class="pre">boundaries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Interval.boundaries" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Interval.transition_times">
<span class="sig-name descname"><span class="pre">transition_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Interval.transition_times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Interval.triggered">
<span class="sig-name descname"><span class="pre">triggered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cara.models.Interval.triggered" title="Permalink to this definition"></a></dt>
<dd><p>Whether the given time falls inside this interval.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Mask">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">η_inhale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor_exhale</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Mask" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Mask.exhale_efficiency">
<span class="sig-name descname"><span class="pre">exhale_efficiency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Mask.exhale_efficiency" title="Permalink to this definition"></a></dt>
<dd><p>Overall exhale efficiency, including the effect of the leaks.
See CERN-OPEN-2021-004 (doi: 10.17181/CERN.1GDQ.5Y75), and Ref.
therein (Asadi 2020).
Obtained from measurements of filtration efficiency and of
the leakage through the sides.
Diameter is in microns.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Mask.factor_exhale">
<span class="sig-name descname"><span class="pre">factor_exhale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#cara.models.Mask.factor_exhale" title="Permalink to this definition"></a></dt>
<dd><p>Global factor applied to filtration efficiency of masks when exhaling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Mask.inhale_efficiency">
<span class="sig-name descname"><span class="pre">inhale_efficiency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Mask.inhale_efficiency" title="Permalink to this definition"></a></dt>
<dd><p>Overall inhale efficiency, including the effect of the leaks.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Mask.types">
<span class="sig-name descname"><span class="pre">types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'FFP2':</span> <span class="pre">Mask(η_inhale=0.865,</span> <span class="pre">factor_exhale=1.0),</span> <span class="pre">'No</span> <span class="pre">mask':</span> <span class="pre">Mask(η_inhale=0,</span> <span class="pre">factor_exhale=0),</span> <span class="pre">'Type</span> <span class="pre">I':</span> <span class="pre">Mask(η_inhale=0.5,</span> <span class="pre">factor_exhale=1.0)}</span></em><a class="headerlink" href="#cara.models.Mask.types" title="Permalink to this definition"></a></dt>
<dd><p>Pre-populated examples of Masks.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Mask._inhale">
<span id="cara.models.Mask.η_inhale"></span><span class="sig-name descname"><span class="pre">η_inhale</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Mask._inhale" title="Permalink to this definition"></a></dt>
<dd><p>Filtration efficiency of masks when inhaling.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.MultipleExpiration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleExpiration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expirations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models._ExpirationBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.MultipleExpiration" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._ExpirationBase</span></code></p>
<p>Represents an expiration of aerosols.
Group together different modes of expiration, that represent
each the main expiration mode for a certain fraction of time (given by
the weights).
This class can only be used with single diameters defined in each
expiration (it cannot be used with diameter distributions).</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.MultipleExpiration.aerosols">
<span class="sig-name descname"><span class="pre">aerosols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.MultipleExpiration.aerosols" title="Permalink to this definition"></a></dt>
<dd><p>total volume of aerosols expired per volume of air (mL/cm^3).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.MultipleExpiration.expirations">
<span class="sig-name descname"><span class="pre">expirations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models._ExpirationBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.MultipleExpiration.expirations" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.MultipleExpiration.weights">
<span class="sig-name descname"><span class="pre">weights</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.MultipleExpiration.weights" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.MultipleVentilation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultipleVentilation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ventilations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models._VentilationBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.MultipleVentilation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._VentilationBase</span></code></p>
<p>Represents a mechanism by which air can be exchanged (replaced/filtered)
in a time dependent manner.</p>
<p>Group together different sources of ventilations.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.MultipleVentilation.air_exchange">
<span class="sig-name descname"><span class="pre">air_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.MultipleVentilation.air_exchange" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rate at which air is being exchanged in the given room
at a given time (in hours).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.MultipleVentilation.transition_times">
<span class="sig-name descname"><span class="pre">transition_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.MultipleVentilation.transition_times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.MultipleVentilation.ventilations">
<span class="sig-name descname"><span class="pre">ventilations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models._VentilationBase</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.MultipleVentilation.ventilations" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Particle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Particle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diameter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Particle" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents an aerosol particle.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Particle.diameter">
<span class="sig-name descname"><span class="pre">diameter</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#cara.models.Particle.diameter" title="Permalink to this definition"></a></dt>
<dd><p>diameter of the aerosol in microns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Particle.fraction_deposited">
<span class="sig-name descname"><span class="pre">fraction_deposited</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaporation_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Particle.fraction_deposited" title="Permalink to this definition"></a></dt>
<dd><p>The fraction of particles actually deposited in the respiratory
tract (over the total number of particles). It depends on the
particle diameter.
From W. C. Hinds, New York, Wiley, 1999 (pp. 233 – 259).
evaporation_factor represents the factor applied to the diameter,
due to instantaneous evaporation of the particle in the air.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Particle.settling_velocity">
<span class="sig-name descname"><span class="pre">settling_velocity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evaporation_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Particle.settling_velocity" title="Permalink to this definition"></a></dt>
<dd><p>Settling velocity (i.e. speed of deposition on the floor due
to gravity), for aerosols, in m/s. Diameter-dependent expression
from <a class="reference external" href="https://doi.org/10.1101/2021.10.14.21264988">https://doi.org/10.1101/2021.10.14.21264988</a>
When an aerosol-diameter is not given, returns
the default value of 1.88e-4 m/s (corresponds to diameter of
2.5 microns, i.e. geometric average of the breathing
expiration distribution, taking evaporation into account, see
<a class="reference external" href="https://doi.org/10.1101/2021.10.14.21264988">https://doi.org/10.1101/2021.10.14.21264988</a>)
evaporation_factor represents the factor applied to the diameter,
due to instantaneous evaporation of the particle in the air.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.PeriodicInterval">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PeriodicInterval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.PeriodicInterval" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Interval</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.PeriodicInterval.boundaries">
<span class="sig-name descname"><span class="pre">boundaries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.PeriodicInterval.boundaries" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.PeriodicInterval.duration">
<span class="sig-name descname"><span class="pre">duration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.PeriodicInterval.duration" title="Permalink to this definition"></a></dt>
<dd><p>How long does the interval occur for (minutes).
A value greater than <a class="reference internal" href="#cara.models.PeriodicInterval.period" title="cara.models.PeriodicInterval.period"><code class="xref py py-data docutils literal notranslate"><span class="pre">period</span></code></a> signifies the event is permanently
occurring, a value of 0 signifies that the event never happens.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.PeriodicInterval.period">
<span class="sig-name descname"><span class="pre">period</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.PeriodicInterval.period" title="Permalink to this definition"></a></dt>
<dd><p>How often does the interval occur (minutes).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.PeriodicInterval.start">
<span class="sig-name descname"><span class="pre">start</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#cara.models.PeriodicInterval.start" title="Permalink to this definition"></a></dt>
<dd><p>Time at which the first person (infected or exposed) arrives at the enclosed space.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PiecewiseConstant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transition_times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.PiecewiseConstant" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant.interval">
<span class="sig-name descname"><span class="pre">interval</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></span><a class="headerlink" href="#cara.models.PiecewiseConstant.interval" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant.refine">
<span class="sig-name descname"><span class="pre">refine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refine_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></span><a class="headerlink" href="#cara.models.PiecewiseConstant.refine" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant.transition_times">
<span class="sig-name descname"><span class="pre">transition_times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.PiecewiseConstant.transition_times" title="Permalink to this definition"></a></dt>
<dd><p>transition times at which the function changes value (hours).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.PiecewiseConstant.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.PiecewiseConstant.values">
<span class="sig-name descname"><span class="pre">values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.PiecewiseConstant.values" title="Permalink to this definition"></a></dt>
<dd><p>values of the function between transitions</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Population">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Population</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">presence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_immunity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Population" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a group of people all with exactly the same behaviour and
situation.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Population.activity">
<span class="sig-name descname"><span class="pre">activity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></em><a class="headerlink" href="#cara.models.Population.activity" title="Permalink to this definition"></a></dt>
<dd><p>The physical activity being carried out by the people.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Population.host_immunity">
<span class="sig-name descname"><span class="pre">host_immunity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.Population.host_immunity" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Population.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Mask" title="cara.models.Mask"><span class="pre">cara.models.Mask</span></a></em><a class="headerlink" href="#cara.models.Population.mask" title="Permalink to this definition"></a></dt>
<dd><p>The kind of mask being worn by the people.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Population.number">
<span class="sig-name descname"><span class="pre">number</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#cara.models.Population.number" title="Permalink to this definition"></a></dt>
<dd><p>How many in the population.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Population.person_present">
<span class="sig-name descname"><span class="pre">person_present</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Population.person_present" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Population.presence">
<span class="sig-name descname"><span class="pre">presence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.Population.presence" title="Permalink to this definition"></a></dt>
<dd><p>The times in which the people are in the room.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Room">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Room</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Room" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Room.humidity">
<span class="sig-name descname"><span class="pre">humidity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.5</span></em><a class="headerlink" href="#cara.models.Room.humidity" title="Permalink to this definition"></a></dt>
<dd><p>The humidity in the room (from 0 to 1 - e.g. 0.5 is 50% humidity)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Room.volume">
<span class="sig-name descname"><span class="pre">volume</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Room.volume" title="Permalink to this definition"></a></dt>
<dd><p>The total volume of the room</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.SARSCoV2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SARSCoV2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">viral_load_in_sputum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infectious_dose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viable_to_RNA_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transmissibility_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.SARSCoV2" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Virus" title="cara.models.Virus"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Virus</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.SARSCoV2.halflife">
<span class="sig-name descname"><span class="pre">halflife</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.SARSCoV2.halflife" title="Permalink to this definition"></a></dt>
<dd><p>Half-life changes with humidity level. Here is implemented a simple
piecewise constant model (for more details see A. Henriques et al,
CERN-OPEN-2021-004, DOI: 10.17181/CERN.1GDQ.5Y75)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SARSCoV2.infectious_dose">
<span class="sig-name descname"><span class="pre">infectious_dose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SARSCoV2.infectious_dose" title="Permalink to this definition"></a></dt>
<dd><p>Dose to initiate infection, in RNA copies</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SARSCoV2.transmissibility_factor">
<span class="sig-name descname"><span class="pre">transmissibility_factor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.SARSCoV2.transmissibility_factor" title="Permalink to this definition"></a></dt>
<dd><p>Reported increase of transmissibility of a VOC</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SARSCoV2.viable_to_RNA_ratio">
<span class="sig-name descname"><span class="pre">viable_to_RNA_ratio</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SARSCoV2.viable_to_RNA_ratio" title="Permalink to this definition"></a></dt>
<dd><p>viable-to-RNA virus ratio as a function of the viral load</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SARSCoV2.viral_load_in_sputum">
<span class="sig-name descname"><span class="pre">viral_load_in_sputum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SARSCoV2.viral_load_in_sputum" title="Permalink to this definition"></a></dt>
<dd><p>RNA copies  / mL</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ShortRangeModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">expiration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.models._ExpirationBase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">presence</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.SpecificInterval" title="cara.models.SpecificInterval"><span class="pre">cara.models.SpecificInterval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.ShortRangeModel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.activity">
<span class="sig-name descname"><span class="pre">activity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Activity" title="cara.models.Activity"><span class="pre">cara.models.Activity</span></a></em><a class="headerlink" href="#cara.models.ShortRangeModel.activity" title="Permalink to this definition"></a></dt>
<dd><p>Activity type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.dilution_factor">
<span class="sig-name descname"><span class="pre">dilution_factor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ShortRangeModel.dilution_factor" title="Permalink to this definition"></a></dt>
<dd><p>The dilution factor for the respective expiratory activity type.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.distance">
<span class="sig-name descname"><span class="pre">distance</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.ShortRangeModel.distance" title="Permalink to this definition"></a></dt>
<dd><p>Interpersonal distances</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.expiration">
<span class="sig-name descname"><span class="pre">expiration</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">cara.models._ExpirationBase</span></em><a class="headerlink" href="#cara.models.ShortRangeModel.expiration" title="Permalink to this definition"></a></dt>
<dd><p>Expiration type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.normed_exposure_between_bounds">
<span class="sig-name descname"><span class="pre">normed_exposure_between_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concentration_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.ConcentrationModel" title="cara.models.ConcentrationModel"><span class="pre">cara.models.ConcentrationModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.ShortRangeModel.normed_exposure_between_bounds" title="Permalink to this definition"></a></dt>
<dd><p>Get the integrated short-range concentration of viruses in the air between the times start and stop,
normalized by the virus viral load.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.presence">
<span class="sig-name descname"><span class="pre">presence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.SpecificInterval" title="cara.models.SpecificInterval"><span class="pre">cara.models.SpecificInterval</span></a></em><a class="headerlink" href="#cara.models.ShortRangeModel.presence" title="Permalink to this definition"></a></dt>
<dd><p>Short-range expiration and respective presence</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.ShortRangeModel.short_range_concentration">
<span class="sig-name descname"><span class="pre">short_range_concentration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">concentration_model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.ConcentrationModel" title="cara.models.ConcentrationModel"><span class="pre">cara.models.ConcentrationModel</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.ShortRangeModel.short_range_concentration" title="Permalink to this definition"></a></dt>
<dd><p>Virus short-range exposure concentration, as a function of time.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.SlidingWindow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SlidingWindow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">outside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opening_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_deltaT</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.SlidingWindow" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.WindowOpening" title="cara.models.WindowOpening"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.WindowOpening</span></code></a></p>
<p>Sliding window, or side-hung window (with the hinge perpendicular to
the horizontal plane).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.SlidingWindow.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the window is open.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.discharge_coefficient">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">discharge_coefficient</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SlidingWindow.discharge_coefficient" title="Permalink to this definition"></a></dt>
<dd><p>Average measured value of discharge coefficient for sliding or
side-hung windows.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.inside_temp">
<span class="sig-name descname"><span class="pre">inside_temp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></em><a class="headerlink" href="#cara.models.SlidingWindow.inside_temp" title="Permalink to this definition"></a></dt>
<dd><p>The temperature inside the room (Kelvin).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.opening_length">
<span class="sig-name descname"><span class="pre">opening_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SlidingWindow.opening_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of the opening-gap when the window is open (m).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.outside_temp">
<span class="sig-name descname"><span class="pre">outside_temp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></em><a class="headerlink" href="#cara.models.SlidingWindow.outside_temp" title="Permalink to this definition"></a></dt>
<dd><p>The temperature outside of the window (Kelvin).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SlidingWindow.window_height">
<span class="sig-name descname"><span class="pre">window_height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SlidingWindow.window_height" title="Permalink to this definition"></a></dt>
<dd><p>The height of the window (m).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.SpecificInterval">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SpecificInterval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">present_times</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Time_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Time_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.SpecificInterval" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Interval</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.SpecificInterval.boundaries">
<span class="sig-name descname"><span class="pre">boundaries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.SpecificInterval.boundaries" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.SpecificInterval.present_times">
<span class="sig-name descname"><span class="pre">present_times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cara.models.Time_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.SpecificInterval.present_times" title="Permalink to this definition"></a></dt>
<dd><p>A sequence of times (start, stop), in hours, that the infected person
is present. The flattened list of times must be strictly monotonically
increasing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Ventilation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ventilation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Ventilation" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models._VentilationBase</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Ventilation.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.Ventilation.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the ventilation is active.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Ventilation.transition_times">
<span class="sig-name descname"><span class="pre">transition_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Ventilation.transition_times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.Virus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Virus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">viral_load_in_sputum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infectious_dose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">viable_to_RNA_ratio</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transmissibility_factor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.Virus" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Virus.decay_constant">
<span class="sig-name descname"><span class="pre">decay_constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Virus.decay_constant" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.Virus.halflife">
<span class="sig-name descname"><span class="pre">halflife</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">humidity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.Virus.halflife" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Virus.infectious_dose">
<span class="sig-name descname"><span class="pre">infectious_dose</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Virus.infectious_dose" title="Permalink to this definition"></a></dt>
<dd><p>Dose to initiate infection, in RNA copies</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Virus.transmissibility_factor">
<span class="sig-name descname"><span class="pre">transmissibility_factor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#cara.models.Virus.transmissibility_factor" title="Permalink to this definition"></a></dt>
<dd><p>Reported increase of transmissibility of a VOC</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Virus.types">
<span class="sig-name descname"><span class="pre">types</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ClassVar</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Virus" title="cara.models.Virus"><span class="pre">cara.models.Virus</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'SARS_CoV_2':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=1.0),</span> <span class="pre">'SARS_CoV_2_ALPHA':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=0.78),</span> <span class="pre">'SARS_CoV_2_BETA':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=0.8),</span> <span class="pre">'SARS_CoV_2_DELTA':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=0.51),</span> <span class="pre">'SARS_CoV_2_GAMMA':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=0.72),</span> <span class="pre">'SARS_CoV_2_OMICRON':</span> <span class="pre">SARSCoV2(viral_load_in_sputum=1000000000.0,</span> <span class="pre">infectious_dose=50.0,</span> <span class="pre">viable_to_RNA_ratio=0.5,</span> <span class="pre">transmissibility_factor=0.2)}</span></em><a class="headerlink" href="#cara.models.Virus.types" title="Permalink to this definition"></a></dt>
<dd><p>Pre-populated examples of Viruses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Virus.viable_to_RNA_ratio">
<span class="sig-name descname"><span class="pre">viable_to_RNA_ratio</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Virus.viable_to_RNA_ratio" title="Permalink to this definition"></a></dt>
<dd><p>viable-to-RNA virus ratio as a function of the viral load</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.Virus.viral_load_in_sputum">
<span class="sig-name descname"><span class="pre">viral_load_in_sputum</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.Virus.viral_load_in_sputum" title="Permalink to this definition"></a></dt>
<dd><p>RNA copies  / mL</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.models.WindowOpening">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WindowOpening</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">inside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">outside_temp</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opening_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_windows</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_deltaT</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.models.WindowOpening" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.models.Ventilation" title="cara.models.Ventilation"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.models.Ventilation</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.Interval" title="cara.models.Interval"><span class="pre">cara.models.Interval</span></a></em><a class="headerlink" href="#cara.models.WindowOpening.active" title="Permalink to this definition"></a></dt>
<dd><p>The interval in which the window is open.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.WindowOpening.air_exchange">
<span class="sig-name descname"><span class="pre">air_exchange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">room</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#cara.models.Room" title="cara.models.Room"><span class="pre">cara.models.Room</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.WindowOpening.air_exchange" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rate at which air is being exchanged in the given room
at a given time (in hours).</p>
<p>Note that whilst the time is known inside this function, it may not
be used to vary the result unless the specific time used is declared
as part of a state change in the interval (e.g. when air_exchange == 0).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cara.models.WindowOpening.discharge_coefficient">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">discharge_coefficient</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.WindowOpening.discharge_coefficient" title="Permalink to this definition"></a></dt>
<dd><p>Discharge coefficient (or cd_b): what portion effective area is
used to exchange air (0 &lt;= discharge_coefficient &lt;= 1).
To be implemented in subclasses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.inside_temp">
<span class="sig-name descname"><span class="pre">inside_temp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></em><a class="headerlink" href="#cara.models.WindowOpening.inside_temp" title="Permalink to this definition"></a></dt>
<dd><p>The temperature inside the room (Kelvin).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.min_deltaT">
<span class="sig-name descname"><span class="pre">min_deltaT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.1</span></em><a class="headerlink" href="#cara.models.WindowOpening.min_deltaT" title="Permalink to this definition"></a></dt>
<dd><p>Minimum difference between inside and outside temperature (K).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.number_of_windows">
<span class="sig-name descname"><span class="pre">number_of_windows</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#cara.models.WindowOpening.number_of_windows" title="Permalink to this definition"></a></dt>
<dd><p>The number of windows of the given dimensions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.opening_length">
<span class="sig-name descname"><span class="pre">opening_length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.WindowOpening.opening_length" title="Permalink to this definition"></a></dt>
<dd><p>The length of the opening-gap when the window is open (m).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.outside_temp">
<span class="sig-name descname"><span class="pre">outside_temp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#cara.models.PiecewiseConstant" title="cara.models.PiecewiseConstant"><span class="pre">cara.models.PiecewiseConstant</span></a></em><a class="headerlink" href="#cara.models.WindowOpening.outside_temp" title="Permalink to this definition"></a></dt>
<dd><p>The temperature outside of the window (Kelvin).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.models.WindowOpening.transition_times">
<span class="sig-name descname"><span class="pre">transition_times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cara.models.WindowOpening.transition_times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="cara.models.WindowOpening.window_height">
<span class="sig-name descname"><span class="pre">window_height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cara.models.WindowOpening.window_height" title="Permalink to this definition"></a></dt>
<dd><p>The height of the window (m).</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-cara.state">
<span id="cara-state-module"></span><h2>cara.state module<a class="headerlink" href="#module-cara.state" title="Permalink to this headline"></a></h2>
<p>This module is entirely in support of providing a convenient mutable counterpart
to frozen dataclasses. Significant effort went into to trying to use traitlets
for this purpose, but the need to define class-level attributes proved to be a
limitation that meant we could not mutate the state from one subclass to another
after the state was instantiated.</p>
<p>This module MUST not import other parts of cara as this would point at a
leaky abstraction.</p>
<dl class="py class">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataclassInstanceState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">dataclass:</span> <span class="pre">typing.Type[cara.state.Datamodel_T],</span> <span class="pre">state_builder=&lt;cara.state.StateBuilder</span> <span class="pre">object&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.state.DataclassState" title="cara.state.DataclassState"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.state.DataclassState</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">cara.state.Datamodel_T</span></code>]</p>
<p>Represents the state of a frozen dataclass.
No type checking of the attributes is attempted.</p>
<p>Setting the state can be done with:</p>
<blockquote>
<div><p>setattr(state, attr, value)</p>
</div></blockquote>
<p>Accessing the instance that this state represents can be done with:</p>
<blockquote>
<div><p>state.dcs_instance()</p>
</div></blockquote>
<p>Changing the type to a subclass of the base that this state represents can be done with:</p>
<blockquote>
<div><p>state.dcs_set_instance_type(ASubclassOfBase)</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState.dcs_instance">
<span class="sig-name descname"><span class="pre">dcs_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState.dcs_instance" title="Permalink to this definition"></a></dt>
<dd><p>Return the instance that this state represents. The instance returned
is immutable, so it is advised to call this method each time that
you want the instance so that it reflects the most up-to-date state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState.dcs_observe">
<span class="sig-name descname"><span class="pre">dcs_observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState.dcs_observe" title="Permalink to this definition"></a></dt>
<dd><p>If any changes are made to the state, call the given callback.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState.dcs_set_instance_type">
<span class="sig-name descname"><span class="pre">dcs_set_instance_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance_dataclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState.dcs_set_instance_type" title="Permalink to this definition"></a></dt>
<dd><p>Update the current instance of the state to this type.</p>
<p>Note: This currently wipes all downstream observers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState.dcs_state_transaction">
<span class="sig-name descname"><span class="pre">dcs_state_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState.dcs_state_transaction" title="Permalink to this definition"></a></dt>
<dd><p>For the lifetime of this context manager, do not fire observer
notifications. If any notifications would have been fired during the
lifetime of this context manager, then an event will be fired once
exiting the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassInstanceState.dcs_update_from">
<span class="sig-name descname"><span class="pre">dcs_update_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.state.Datamodel_T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassInstanceState.dcs_update_from" title="Permalink to this definition"></a></dt>
<dd><p>Update the state based on the values of the given dataclass instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.state.DataclassState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataclassState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_builder=&lt;cara.state.StateBuilder</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassState" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Generic</span></code>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">cara.state.Datamodel_T</span></code>]</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassState.dcs_instance">
<span class="sig-name descname"><span class="pre">dcs_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">cara.state.Datamodel_T</span></span></span><a class="headerlink" href="#cara.state.DataclassState.dcs_instance" title="Permalink to this definition"></a></dt>
<dd><p>Return the instance that this state represents. The instance returned
is immutable, so it is advised to call this method each time that
you want the instance so that it reflects the most up-to-date state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassState.dcs_observe">
<span class="sig-name descname"><span class="pre">dcs_observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassState.dcs_observe" title="Permalink to this definition"></a></dt>
<dd><p>If any changes are made to the state, call the given callback.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassState.dcs_set_instance_type">
<span class="sig-name descname"><span class="pre">dcs_set_instance_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance_dataclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassState.dcs_set_instance_type" title="Permalink to this definition"></a></dt>
<dd><p>Update the current instance of the state to this type.</p>
<p>Note: This currently wipes all downstream observers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassState.dcs_state_transaction">
<span class="sig-name descname"><span class="pre">dcs_state_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassState.dcs_state_transaction" title="Permalink to this definition"></a></dt>
<dd><p>For the lifetime of this context manager, do not fire observer
notifications. If any notifications would have been fired during the
lifetime of this context manager, then an event will be fired once
exiting the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassState.dcs_update_from">
<span class="sig-name descname"><span class="pre">dcs_update_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.state.Datamodel_T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassState.dcs_update_from" title="Permalink to this definition"></a></dt>
<dd><p>Update the state based on the values of the given dataclass instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataclassStateNamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">states</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#cara.state.DataclassState" title="cara.state.DataclassState"><span class="pre">cara.state.DataclassState</span></a><span class="p"><span class="pre">[</span></span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.state.DataclassState" title="cara.state.DataclassState"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.state.DataclassState</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">cara.state.Datamodel_T</span></code>]</p>
<p>A collection of instances of the given type, switchable by name, but each
instance is still mutable.</p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_instance">
<span class="sig-name descname"><span class="pre">dcs_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_instance" title="Permalink to this definition"></a></dt>
<dd><p>Return the instance that this state represents. The instance returned
is immutable, so it is advised to call this method each time that
you want the instance so that it reflects the most up-to-date state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_observe">
<span class="sig-name descname"><span class="pre">dcs_observe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_observe" title="Permalink to this definition"></a></dt>
<dd><p>If any changes are made to the state, call the given callback.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_select">
<span class="sig-name descname"><span class="pre">dcs_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_select" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_set_instance_type">
<span class="sig-name descname"><span class="pre">dcs_set_instance_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance_dataclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_set_instance_type" title="Permalink to this definition"></a></dt>
<dd><p>Update the current instance of the state to this type.</p>
<p>Note: This currently wipes all downstream observers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_state_transaction">
<span class="sig-name descname"><span class="pre">dcs_state_transaction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_state_transaction" title="Permalink to this definition"></a></dt>
<dd><p>For the lifetime of this context manager, do not fire observer
notifications. If any notifications would have been fired during the
lifetime of this context manager, then an event will be fired once
exiting the context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStateNamed.dcs_update_from">
<span class="sig-name descname"><span class="pre">dcs_update_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">cara.state.Datamodel_T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStateNamed.dcs_update_from" title="Permalink to this definition"></a></dt>
<dd><p>Update the state based on the values of the given dataclass instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.state.DataclassStatePredefined">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataclassStatePredefined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataclass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">cara.state.Datamodel_T</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStatePredefined" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#cara.state.DataclassInstanceState" title="cara.state.DataclassInstanceState"><code class="xref py py-class docutils literal notranslate"><span class="pre">cara.state.DataclassInstanceState</span></code></a>[<code class="xref py py-obj docutils literal notranslate"><span class="pre">cara.state.Datamodel_T</span></code>]</p>
<p>Only a pre-defined selection of states for the given type are allowed.
Selected by name (the keys in the dictionary).</p>
<p>You can change the chosen state with:</p>
<blockquote>
<div><p>state.dcs_select(name)</p>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStatePredefined.dcs_instance">
<span class="sig-name descname"><span class="pre">dcs_instance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStatePredefined.dcs_instance" title="Permalink to this definition"></a></dt>
<dd><p>Return the instance that this state represents. The instance returned
is immutable, so it is advised to call this method each time that
you want the instance so that it reflects the most up-to-date state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.DataclassStatePredefined.dcs_select">
<span class="sig-name descname"><span class="pre">dcs_select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.DataclassStatePredefined.dcs_select" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="cara.state.StateBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StateBuilder</span></span><a class="headerlink" href="#cara.state.StateBuilder" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="cara.state.StateBuilder.build_generic">
<span class="sig-name descname"><span class="pre">build_generic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type_to_build</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#cara.state.DataclassInstanceState" title="cara.state.DataclassInstanceState"><span class="pre">cara.state.DataclassInstanceState</span></a></span></span><a class="headerlink" href="#cara.state.StateBuilder.build_generic" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.StateBuilder.resolve_builder">
<span class="sig-name descname"><span class="pre">resolve_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dataclasses.Field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.StateBuilder.resolve_builder" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cara.state.StateBuilder.visit">
<span class="sig-name descname"><span class="pre">visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dataclasses.Field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.state.StateBuilder.visit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-cara.utils">
<span id="cara-utils-module"></span><h2>cara.utils module<a class="headerlink" href="#module-cara.utils" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="cara.utils.method_cache">
<span class="sig-name descname"><span class="pre">method_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cara.utils.method_cache" title="Permalink to this definition"></a></dt>
<dd><p>A decorator for instance based caching.</p>
<p>Unlike lru_cache / memoization, this allows us to not have to have the
instance itself be hashable - only the arguments must be so.</p>
<p>The cache is stored as a dictionary in a private attribute on the instance
with the name <code class="docutils literal notranslate"><span class="pre">_cache_{func_name}</span></code>.</p>
</dd></dl>

</section>
<section id="module-cara">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cara" title="Permalink to this headline"></a></h2>
<p>Documentation for the CARA package</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to CARA’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cara.apps.html" class="btn btn-neutral float-right" title="cara.apps package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Andre Henriques et al..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>